<main class="error-container error-primary">

  <div ng-hide="parseError">
    <div ng-hide="loaded">
      <div class="spinner">
        <div class="rect1"></div>
        <div class="rect2"></div>
        <div class="rect3"></div>
        <div class="rect4"></div>
        <div class="rect5"></div>
      </div>
    </div>
  </div>

  <div class="error-content" ng-show="parseError">
    <h3 class="heading">Error while loading <b>{{parseError.fileName}}</b></h3>

    <section>
      <header class="error-row error-header">
        <h3 class="error-head error-head-expand">
          <div class="error-expand-btn">
            Message
          </div>
        </h3>
      </header>
      <pre class="error-pre"><code>{{parseError.message}}</code></pre>

      <header class="error-row error-header">
        <h3 class="error-head error-head-expand">
          <div class="error-expand-btn">
            Snippet <span class="error-subhead">(Line {{parseError.line}}, Column {{parseError.column}})</span>
          </div>
        </h3>
      </header>
      <pre class="error-pre"><code class="error-snippet">{{parseError.snippet}}</code></pre>

      <header class="error-row error-header">
        <h3 class="error-head error-head-expand">
          <div class="error-expand-btn">
            RAML
          </div>
        </h3>
      </header>
      <pre class="error-pre error-codemirror-container"><code ui-codemirror="cmOption" ng-model="parseError.raml"></code></pre>
    </section>
  </div>

  <div ng-show="loaded">
    <theme-switcher></theme-switcher>
    <h1 class="title">{{raml.title}}</h1>

    <ol class="resource-list resource-list-root">
      <li class="resource-list-item" ng-repeat="resourceGroup in raml.resourceGroups">
        <header class="resource resource-root clearfix" ng-init="resource = resourceGroup[0]">
          <div class="resource-path-container">
            <button class="resource-root-toggle is-active" ng-show="resourceGroup.length > 1" ng-click="toggle($event)"></button>

            <h2 class="resource-heading resource-heading-large">
              <span class="resource-path-active" ng-repeat='segment in resource.pathSegments'>{{segment.toString()}}</span>
            </h2>

            <resource-type></resource-type>
          </div>

          <method-list></method-list>
          <close-button></close-button>
        </header>

        <resource-panel></resource-panel>

        <!-- Child Resources -->
        <ol class="resource-list is-collapsed" style="display: none;">
          <li class="resource-list-item" ng-repeat="resource in resourceGroup" ng-if="!$first">
            <div class="resource clearfix">
              <div class="resource-path-container">
                <h3 class="resource-heading">
                  <span ng-repeat-start='segment in resource.pathSegments' ng-if="!$last">{{segment.toString()}}</span><span ng-repeat-end ng-if="$last" class="resource-path-active">{{segment.toString()}}</span>
                </h3>

                <resource-type></resource-type>
              </div>

              <method-list></method-list>
              <close-button></close-button>
            </div>

            <resource-panel></resource-panel>
          </li>
        </ol>

      </li>
    </ol>
  </div>
</main>
